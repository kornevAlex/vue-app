(function(t){function e(e){for(var r,c,i=e[0],n=e[1],l=e[2],d=0,_=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&_.push(s[c][0]),s[c]=0;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);u&&u(e);while(_.length)_.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var n=a[i];0!==s[n]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},s={app:0},o=[];function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=n;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("router-view"),a("footer",{staticClass:"footer"},[a("div",{staticClass:"footer__wrapper container"},[t._m(0),a("ul",{staticClass:"footer__social social"},[a("li",{staticClass:"social__item"},[a("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Вконтакте"}},[a("svg",{attrs:{width:"20",height:"11",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-vk"}})])])]),a("li",{staticClass:"social__item"},[a("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Инстаграм"}},[a("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-insta"}})])])]),a("li",{staticClass:"social__item"},[a("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Facebook"}},[a("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-facebook"}})])])]),a("li",{staticClass:"social__item"},[a("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Twitter"}},[a("svg",{attrs:{width:"17",height:"14",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-twitter"}})])])]),a("li",{staticClass:"social__item"},[a("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Telegram"}},[a("svg",{attrs:{width:"19",height:"17",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-telegram"}})])])])]),a("p",{staticClass:"footer__desc"},[t._v(" Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. ")]),t._m(1),a("span",{staticClass:"footer__copyright"},[t._v(" © 2020 Технозавррр ")])])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"footer__links"},[a("li",[a("a",{staticClass:"footer__link",attrs:{href:"#"}},[t._v(" Каталог ")])]),a("li",[a("a",{staticClass:"footer__link",attrs:{href:"tel:88006009009"}},[t._v(" 8 800 600 90 09 ")])]),a("li",[a("a",{staticClass:"footer__link",attrs:{href:"mailto:hi@technozavrrr.com"}},[t._v(" hi@technozavrrr.com ")])]),a("li",[a("a",{staticClass:"footer__link",attrs:{href:"#"}},[t._v(" Распродажа ")])]),a("li",[a("a",{staticClass:"footer__link footer__link--medium",attrs:{href:"#"}},[t._v(" Заказать звонок ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"footer__data"},[a("li",[a("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Политика конфиденциальности ")])]),a("li",[a("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Публичная оферта ")])])])}],c=a("5530"),i=a("2f62"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("div",{staticClass:"header__wrapper container"},[a("span",{staticClass:"header__info"},[t._v("Каталог")]),a("router-link",{staticClass:"header__logo",attrs:{to:{name:"main"}}},[a("img",{attrs:{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"}})]),a("a",{staticClass:"header__tel",attrs:{href:"tel:8 800 600 90 09"}},[t._v(" 8 800 600 90 09 ")]),a("CardIndicator")],1)])},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"header__cart",attrs:{to:{name:"cart"},"aria-label":"Корзина с товарами"}},[a("svg",{attrs:{width:"30",height:"21",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-cart"}})]),a("span",{staticClass:"header__count",attrs:{"aria-label":"Количество товаров"}},[t._v(" "+t._s(t.getCountProductInCart)+" ")])])},d=[],_={computed:Object(c["a"])(Object(c["a"])({},Object(i["c"])(["getProductInCart"])),{},{getCountProductInCart:function(){return this.getProductInCart.length}})},p=_,m=a("2877"),f=Object(m["a"])(p,u,d,!1,null,null,null),g=f.exports,v={components:{CardIndicator:g}},C=v,h=Object(m["a"])(C,n,l,!1,null,null,null),b=h.exports,k={components:{Header:b},created:function(){var t=localStorage.getItem("userAccessKey");t&&this.setUserAccessKey(t),this.loadCart()},methods:Object(c["a"])(Object(c["a"])({},Object(i["b"])(["loadCart"])),Object(i["d"])(["setUserAccessKey"]))},P=k,y=Object(m["a"])(P,s,o,!1,null,null,null),O=y.exports,x=a("8c4f"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"content container"},[a("div",{staticClass:"content__top content__top--catalog"},[a("h1",{staticClass:"content__title"},[t._v("Каталог")]),a("span",{staticClass:"content__info"},[t._v(" "+t._s(t.countProduct)+" товаров ")])]),a("div",{staticClass:"content__catalog"},[a("ProductFilter"),a("section",{staticClass:"catalog"},[t.productLoading?a("div",{staticClass:"cp-spinner cp-bubble"}):t._e(),t.errorLoading?a("div",[t._v(" Ошибка загрузки. Пожалуйста, обновите страницу "),a("button",{staticClass:"research",on:{click:t.loadProducts}},[t._v(" Попробовать еще раз")])]):t._e(),a("ProductList",{attrs:{products:t.products}}),a("Pagination")],1)],1)])},j=[],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"catalog__list"},t._l(t.products,(function(t){return a("ProductItem",{key:t.id,attrs:{product:t}})})),1)},w=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"catalog__item"},[a("router-link",{staticClass:"catalog__pic",attrs:{to:{name:"product",params:{id:t.product.id,categoryId:t.product.categoryId}}}},[a("img",{attrs:{src:t.product.image.file.url,alt:"Название товара"}})]),a("h3",{staticClass:"catalog__title"},[a("a",{attrs:{href:"#"}},[t._v(" "+t._s(t.product.title)+" ")])]),a("span",{staticClass:"catalog__price"},[t._v(" "+t._s(t._f("formatNumbers")(t.product.price))+" ₽ ")]),a("ul",{staticClass:"colors colors--black"},t._l(t.product.colors,(function(t,e){return a("li",{key:e,staticClass:"colors__item"},[a("label",{staticClass:"colors__label"},[a("input",{staticClass:"colors__radio sr-only",attrs:{type:"radio"},domProps:{value:t.code}}),a("span",{staticClass:"colors__value",style:"background-color: "+t.code})])])})),0)],1)},$=[],E=function(t){return(new Intl.NumberFormat).format(t)},A={props:["product"],filters:{formatNumbers:E}},T=A,F=Object(m["a"])(T,L,$,!1,null,null,null),N=F.exports,K={components:{ProductItem:N},props:["products"]},D=K,V=Object(m["a"])(D,B,w,!1,null,null,null),S=V.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"catalog__pagination pagination"},[a("li",{staticClass:"pagination__item"},[a("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":1===t.page},attrs:{"aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.backPage.apply(null,arguments)}}},[a("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])])]),t._l(t.countPage,(function(e){return a("li",{key:e,staticClass:"pagination__item"},[a("a",{staticClass:"pagination__link",class:{"pagination__link--current":e===t.page},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.changePage(e)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"pagination__item"},[a("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.page===t.countPage},attrs:{href:"#","aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.nextPage.apply(null,arguments)}}},[a("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],2)},q=[],U={methods:Object(c["a"])({},Object(i["d"])(["backPage","nextPage","changePage"])),computed:Object(c["a"])({},Object(i["c"])({page:"getNumberPage",limitProduct:"getLimitProduct",countProduct:"getCountProducts",countPage:"countPage"}))},z=U,H=Object(m["a"])(z,M,q,!1,null,null,null),J=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"filter"},[a("h2",{staticClass:"filter__title"},[t._v("Фильтры")]),a("form",{staticClass:"filter__form form",attrs:{action:"#",method:"get"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("fieldset",{staticClass:"form__block"},[a("legend",{staticClass:"form__legend"},[t._v("Цена")]),a("label",{staticClass:"form__label form__label--price"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPriceFrom,expression:"currentPriceFrom"}],staticClass:"form__input",attrs:{type:"text",name:"min-price"},domProps:{value:t.currentPriceFrom},on:{input:function(e){e.target.composing||(t.currentPriceFrom=e.target.value)}}}),a("span",{staticClass:"form__value"},[t._v("От")])]),a("label",{staticClass:"form__label form__label--price"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPriceTo,expression:"currentPriceTo"}],staticClass:"form__input",attrs:{type:"text",name:"max-price"},domProps:{value:t.currentPriceTo},on:{input:function(e){e.target.composing||(t.currentPriceTo=e.target.value)}}}),a("span",{staticClass:"form__value"},[t._v("До")])])]),a("fieldset",{staticClass:"form__block"},[a("legend",{staticClass:"form__legend"},[t._v("Категория")]),a("label",{staticClass:"form__label form__label--select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentCategory,expression:"currentCategory"}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentCategory=e.target.multiple?a:a[0]}}},t._l(t.category,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)])]),a("fieldset",{staticClass:"form__block"},[a("legend",{staticClass:"form__legend"},[t._v("Цвет")]),a("ul",{staticClass:"colors"},t._l(t.colorList,(function(e){var r=e.code,s=e.title,o=e.id;return a("li",{key:o,staticClass:"colors__item"},[a("label",{staticClass:"colors__label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor,expression:"currentColor"}],staticClass:"colors__radio sr-only",attrs:{type:"radio",name:s},domProps:{value:o,checked:t._q(t.currentColor,o)},on:{change:function(e){t.currentColor=o}}}),a("span",{staticClass:"colors__value",style:"background-color: "+r})])])})),0)]),a("button",{staticClass:"filter__submit button button--primery",attrs:{type:"submit"}},[t._v(" Применить ")]),a("button",{staticClass:"filter__reset button button--second",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[t._v(" Сбросить ")])])])},Q=[],R=a("3835"),W={data:function(){return{currentPriceFrom:0,currentPriceTo:0,currentCategory:0,currentColor:0}},watch:{currentPriceFrom:function(t){this.changeMinPrice(t)},currentPriceTo:function(t){this.changeMaxPrice(t)},currentCategory:function(t){this.changeCategories(t)},currentColor:function(t){this.changeColorId(t)}},methods:Object(c["a"])(Object(c["a"])({submit:function(){this.loadProducts()},reset:function(){var t=Object(R["a"])(this.category,1),e=t[0];this.currentPriceFrom=0,this.currentPriceTo=0,this.currentCategory=e.id,this.currentColor=0,this.loadProducts()}},Object(i["b"])(["loadProducts"])),Object(i["d"])(["changeMinPrice","changeMaxPrice","changeCategories","changeColorId"])),computed:Object(c["a"])({},Object(i["c"])({category:"getCategory",colorList:"getColorList",priceFrom:"getPriceFrom",priceTo:"getPriceTo",categoryId:"getCategoriesId",color:"getColorId"}))},X=W,Y=Object(m["a"])(X,G,Q,!1,null,null,null),Z=Y.exports,tt={components:{ProductList:S,Pagination:J,ProductFilter:Z},created:function(){this.loadProducts(),this.loadColors(),this.loadCategory()},computed:Object(c["a"])({},Object(i["c"])({products:"getProductList",page:"getNumberPage",limitProduct:"getLimitProduct",countProduct:"getCountProducts",productLoading:"getProductLoading",errorLoading:"geterrorLoading"})),methods:Object(c["a"])({},Object(i["b"])(["loadProducts","loadColors","loadCategory"])),watch:{page:function(){this.loadProducts()}}},et=tt,at=(a("f168"),Object(m["a"])(et,I,j,!1,null,null,null)),rt=at.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("Страница не найдена!")])},ot=[],ct={},it=ct,nt=Object(m["a"])(it,st,ot,!1,null,null,null),lt=nt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.errorLoading?a("div",[t._v("Страница не найдена")]):t.productLoading?a("div",{staticClass:"cp-spinner cp-bubble"}):t.product?a("main",{staticClass:"content container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.productAddBasket,expression:"productAddBasket"}],staticClass:"toast toast_show"},[t._v(" "+t._s(t.product.title)+" добавлен в корзину "),a("button",{staticClass:"toast__close",attrs:{type:"button"},on:{click:t.hiddenEl}},[t._v("×")])]),a("div",{staticClass:"content__top"},[a("ul",{staticClass:"breadcrumbs"},[a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" "+t._s(t.product.category.title)+" ")])],1),a("li",{staticClass:"breadcrumbs__item"},[a("a",{staticClass:"breadcrumbs__link"},[t._v(" "+t._s(t.product.title)+" ")])])])]),a("section",{staticClass:"item"},[a("div",{staticClass:"item__pics pics"},[a("div",{staticClass:"pics__wrapper"},[a("img",{attrs:{width:"570",height:"570",src:t.product.image.file.url,alt:t.product.title}})])]),a("div",{staticClass:"item__info"},[a("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(t.product.id))]),a("h2",{staticClass:"item__title"},[t._v(t._s(t.product.title))]),a("div",{staticClass:"item__form"},[a("form",{staticClass:"form",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.pushProduct.apply(null,arguments)}}},[a("b",{staticClass:"item__price"},[t._v(" "+t._s(t._f("formatNumbers")(t.product.price))+" ₽ ")]),a("fieldset",{staticClass:"form__block"},[a("legend",{staticClass:"form__legend"},[t._v("Цвет:")]),a("ul",{staticClass:"colors"},t._l(t.product.colors,(function(t,e){return a("li",{key:e,staticClass:"colors__item"},[a("label",{staticClass:"colors__label"},[a("input",{staticClass:"colors__radio sr-only",attrs:{type:"radio"},domProps:{value:t.code}}),a("span",{staticClass:"colors__value",style:"background-color: "+t.code})])])})),0)]),a("div",{staticClass:"item__row"},[a("FormCounter",{attrs:{productBasket:t.productBasket},on:{"update:productBasket":function(e){t.productBasket=e},"update:product-basket":function(e){t.productBasket=e}}}),a("button",{staticClass:"button button--primery",attrs:{disabled:t.productSending}},[t.productSending?a("div",{staticClass:"loader"}):t._e(),t._v(" "+t._s(t.loadingInBasket)+" ")])],1)])])]),t._m(0)])]):t._e()},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item__desc"},[a("ul",{staticClass:"tabs"},[a("li",{staticClass:"tabs__item"},[a("a",{staticClass:"tabs__link tabs__link--current"},[t._v(" Описание ")])]),a("li",{staticClass:"tabs__item"},[a("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Характеристики ")])]),a("li",{staticClass:"tabs__item"},[a("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Гарантия ")])]),a("li",{staticClass:"tabs__item"},[a("a",{staticClass:"tabs__link",attrs:{href:"#"}},[t._v(" Оплата и доставка ")])])]),a("div",{staticClass:"item__content"},[a("p",[t._v(" Здесь могла быть ваша реклама ")])])])}],_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form__counter",class:{product__counter:t.isCard}},[a("button",{attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:t.decr}},[a("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-minus"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productBasket,expression:"productBasket"}],attrs:{type:"text",name:"count",readonly:""},domProps:{value:t.productBasket},on:{input:function(e){e.target.composing||(t.productBasket=e.target.value)}}}),a("button",{attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:t.inc}},[a("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-plus"}})])])])},pt=[],mt={props:["productBasket","isCard"],methods:{inc:function(){this.$emit("update:productBasket",this.productBasket+1)},decr:function(){this.productBasket>1?this.$emit("update:productBasket",this.productBasket-1):this.$emit("update:productBasket",this.productBasket)}}},ft=mt,gt=(a("e4fe"),Object(m["a"])(ft,_t,pt,!1,null,null,null)),vt=gt.exports,Ct={components:{FormCounter:vt},data:function(){return{productBasket:1,productAddBasket:!1,productSending:!1}},computed:Object(c["a"])({loadingInBasket:function(){return this.productSending?"":"В корзину"}},Object(i["c"])({product:"getProduct",getCategory:"getCategory",productLoading:"getProductLoadingPage",errorLoading:"getErrorLoadingProduct"})),methods:Object(c["a"])({hiddenEl:function(){this.productAddBasket=!1},pushProduct:function(){var t=this;this.productSending=!0,this.addProducttoServer({id:this.product.id,count:this.productBasket}).then((function(){t.productSending=!1,t.productAddBasket=!0,setTimeout((function(){t.productAddBasket=!1}),3e3)}))}},Object(i["b"])(["loadProductPage","addProducttoServer"])),filters:{formatNumbers:E},watch:{"$route.params.id":{handler:function(){this.loadProductPage(this.$route.params.id)},immediate:!0}}},ht=Ct,bt=(a("5d22"),Object(m["a"])(ht,ut,dt,!1,null,"a928c32c",null)),kt=bt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"content container"},[a("div",{staticClass:"content__top"},[a("ul",{staticClass:"breadcrumbs"},[a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),t._m(0)]),a("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),a("span",{staticClass:"content__info"},[t._v(" "+t._s(t.countProductInCart)+" товара ")])]),a("section",{staticClass:"cart"},[a("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[a("div",{staticClass:"cart__field"},[t.productList.length>0?a("ul",{staticClass:"cart__list"},t._l(t.productList,(function(t){return a("CartItem",{key:t.id,attrs:{product:t}})})),1):t._e()]),a("div",{staticClass:"cart__block"},[a("p",{staticClass:"cart__desc"},[t._v(" Мы посчитаем стоимость доставки на следующем этапе ")]),a("p",{staticClass:"cart__price"},[t._v(" Итого: "),a("span",[t._v(t._s(t._f("formatNumbers")(t.allIn))+" Р")])]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.productList.length,expression:"productList.length"}],staticClass:"cart__button button button--primery",attrs:{tag:"button",to:{name:"order"},type:"submit"}},[t._v(" Оформить заказ ")])],1)])])])},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"breadcrumbs__item"},[a("a",{staticClass:"breadcrumbs__link"},[t._v(" Корзина ")])])}],Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"cart__item product"},[a("div",{staticClass:"product__pic"},[a("img",{attrs:{src:t.product.image.file.url,width:"120",height:"120",alt:"Название товара"}})]),a("h3",{staticClass:"product__title"},[t._v(" "+t._s(t.product.title)+" ")]),a("span",{staticClass:"product__code"},[t._v(" Артикул: "+t._s(t.product.id)+" ")]),a("div",{staticClass:"product__counter form__counter"},[a("button",{attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:t.decr}},[a("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-minus"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"text",name:"count",readonly:""},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),a("button",{attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:t.inc}},[a("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-plus"}})])])]),a("b",{staticClass:"product__price"},[t._v(" "+t._s(t._f("formatNumbers")(t.product.price*t.product.count))+" Р ")]),a("button",{staticClass:"product__del button-del",attrs:{type:"button","aria-label":"Удалить товар из корзины"},on:{click:t.deleteProduct}},[a("svg",{attrs:{width:"20",height:"20",fill:"currentColor"}},[a("use",{attrs:{"xlink:href":"#icon-close"}})])])])},xt=[],It={props:["product"],filters:{formatNumbers:E},computed:Object(c["a"])(Object(c["a"])({},Object(i["c"])({productList:"getProductInCart",allIn:"getTotalCost",countProductInCart:"getCountProduct"})),{},{count:{get:function(){return this.product.count},set:function(t){this.$store.commit("updateCountProduct",{id:this.product.id,count:t})}}}),methods:Object(c["a"])(Object(c["a"])({},Object(i["b"])(["updateProductCart","deleteProductInBasket"])),{},{inc:function(){this.updateProductCart({count:this.product.count+1,id:this.product.id})},decr:function(){this.product.count>1&&this.updateProductCart({count:this.product.count-1,id:this.product.id})},deleteProduct:function(){this.deleteProductInBasket(this.product.id)}})},jt=It,Bt=Object(m["a"])(jt,Ot,xt,!1,null,null,null),wt=Bt.exports,Lt={components:{CartItem:wt},computed:Object(c["a"])({},Object(i["c"])({productList:"getProductInCart",allIn:"getTotalCost",countProductInCart:"getCountProduct"})),filters:{formatNumbers:E}},$t=Lt,Et=Object(m["a"])($t,Pt,yt,!1,null,null,null),At=Et.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"content container"},[a("div",{staticClass:"content__top"},[a("ul",{staticClass:"breadcrumbs"},[a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(0)]),a("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),a("span",{staticClass:"content__info"},[t._v(" "+t._s(t.basket.length)+" товара ")])]),a("section",{staticClass:"cart"},[a("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.order.apply(null,arguments)}}},[a("div",{staticClass:"cart__field"},[a("div",{staticClass:"cart__data"},[a("BaseFormText",{attrs:{title:"ФИО",placeholder:"Введите ваше полное имя",error:t.formError.name},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),a("BaseFormText",{attrs:{title:"Адрес",placeholder:"Введите ваш адрес",error:t.formError.name},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}}),a("BaseFormText",{attrs:{title:"Телефон",placeholder:"Введите ваш телефон",error:t.formError.name,type:"tel"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),a("BaseFormText",{attrs:{title:"Email",placeholder:"Введи ваш Email",error:t.formError.name,type:"email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),a("BaseFormTextarea",{attrs:{title:"Комментарии",placeholder:"Ваши пожелания",error:t.formError.name},model:{value:t.formData.comment,callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),t._m(1)]),a("div",{staticClass:"cart__block"},[a("ul",{staticClass:"cart__orders"},t._l(t.basket,(function(e,r){return a("li",{key:r,staticClass:"cart__order"},[a("h3",[t._v(t._s(e.title))]),a("b",[t._v(t._s(t._f("formatNumbers")(e.price))+" ₽")]),a("span",[t._v("Артикул: "+t._s(e.id))])])})),0),a("div",{staticClass:"cart__total"},[t._m(2),a("p",[t._v("Итого: "),a("b",[t._v(t._s(t.basket.length))]),t._v(" товара на сумму "),a("b",[t._v(" "+t._s(t._f("formatNumbers")(t.allIn+500))+" Р ")])])]),a("button",{staticClass:"cart__button button button--primery",attrs:{type:"submit"}},[t._v(" Оформить заказ ")])]),t.errorMessage?a("div",{staticClass:"cart__error form__error-block"},[a("h4",[t._v("Заявка не отправлена!")]),a("p",[t._v(" "+t._s(t.errorMessage)+" ")])]):t._e()])])])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"breadcrumbs__item"},[a("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart__options"},[a("h3",{staticClass:"cart__title"},[t._v("Доставка")]),a("ul",{staticClass:"cart__options options"},[a("li",{staticClass:"options__item"},[a("label",{staticClass:"options__label"},[a("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",value:"500",checked:""}}),a("span",{staticClass:"options__value"},[t._v(" Курьером "),a("b",[t._v("500 ₽")])])])])]),a("h3",{staticClass:"cart__title"},[t._v("Оплата")]),a("ul",{staticClass:"cart__options options"},[a("li",{staticClass:"options__item"},[a("label",{staticClass:"options__label"},[a("input",{staticClass:"options__radio sr-only",attrs:{type:"radio",name:"pay",value:"card",checked:""}}),a("span",{staticClass:"options__value"},[t._v(" Картой при получении ")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Доставка: "),a("b",[t._v("500 ₽")])])}],Nt=a("bc3a"),Kt=a.n(Nt),Dt="https://vue-study.skillbox.cc",Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseFromField",{attrs:{error:t.error,title:t.title}},["checkbox"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.dataValue)?t._i(t.dataValue,null)>-1:t.dataValue},on:{change:function(e){var a=t.dataValue,r=e.target,s=!!r.checked;if(Array.isArray(a)){var o=null,c=t._i(a,o);r.checked?c<0&&(t.dataValue=a.concat([o])):c>-1&&(t.dataValue=a.slice(0,c).concat(a.slice(c+1)))}else t.dataValue=s}}}):"radio"===t.type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.dataValue,null)},on:{change:function(e){t.dataValue=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{placeholder:t.placeholder,type:t.type},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},St=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form__label"},[t._t("default"),a("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t.error?a("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},qt=[],Ut={props:["title","error"]},zt=Ut,Ht=Object(m["a"])(zt,Mt,qt,!1,null,null,null),Jt=Ht.exports,Gt={components:{BaseFromField:Jt},props:["title","error","placeholder","value"],computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},Qt={props:{type:{default:"text"}},mixins:[Gt]},Rt=Qt,Wt=Object(m["a"])(Rt,Vt,St,!1,null,null,null),Xt=Wt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseFromField",{attrs:{error:t.error,title:t.title}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},Zt=[],te={mixins:[Gt]},ee=te,ae=Object(m["a"])(ee,Yt,Zt,!1,null,null,null),re=ae.exports,se={components:{BaseFormText:Xt,BaseFormTextarea:re},data:function(){return{formData:{},formError:{},errorMessage:""}},methods:Object(c["a"])({order:function(){var t=this;this.formError={},Kt.a.post("".concat(Dt,"/api/orders"),Object(c["a"])({},this.formData),{params:{userAccessKey:this.userAccessKey}}).then((function(e){t.$store.commit("updateOrderInfo",e.data),t.$router.push({name:"orderInfo",params:{id:e.data.id}}),t.resetBasket()})).catch((function(e){t.formError=e.response.data.error.request||{},t.errorMessage=e.response.data.error.message}))}},Object(i["d"])(["resetBasket"])),computed:Object(c["a"])({},Object(i["c"])({userAccessKey:"getUserAccessKey",basket:"getProductInCart",allIn:"getTotalCost"})),filters:{formatNumbers:E}},oe=se,ce=Object(m["a"])(oe,Tt,Ft,!1,null,null,null),ie=ce.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"content container"},[a("div",{staticClass:"content__top"},[a("ul",{staticClass:"breadcrumbs"},[a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),a("li",{staticClass:"breadcrumbs__item"},[a("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(0)]),a("h1",{staticClass:"content__title"},[t._v(" Заказ оформлен "),a("span",[t._v("№ "+t._s(t.orderInfo.id))])])]),a("section",{staticClass:"cart"},[a("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[a("div",{staticClass:"cart__field"},[a("p",{staticClass:"cart__message"},[t._v(" Благодарим за выбор нашего магазина. На Вашу почту придет письмо с  деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ")]),a("ul",{staticClass:"dictionary"},[a("li",{staticClass:"dictionary__item"},[a("span",{staticClass:"dictionary__key"},[t._v(" Получатель ")]),a("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.orderInfo.name)+" ")])]),a("li",{staticClass:"dictionary__item"},[a("span",{staticClass:"dictionary__key"},[t._v(" Адрес доставки ")]),a("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.orderInfo.address)+" ")])]),a("li",{staticClass:"dictionary__item"},[a("span",{staticClass:"dictionary__key"},[t._v(" Телефон ")]),a("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.orderInfo.phone)+" ")])]),a("li",{staticClass:"dictionary__item"},[a("span",{staticClass:"dictionary__key"},[t._v(" Email ")]),a("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.orderInfo.email)+" ")])]),t._m(1)])]),a("div",{staticClass:"cart__block"},[a("ul",{staticClass:"cart__orders"},t._l(t.basket.items,(function(e,r){return a("li",{key:r,staticClass:"cart__order"},[a("h3",[t._v(t._s(e.title))]),a("b",[t._v(t._s(t._f("formatNumbers")(e.price))+" ₽")]),a("span",[t._v("Артикул: "+t._s(e.id))])])})),0),a("div",{staticClass:"cart__total"},[t._m(2),a("p",[t._v(" Итого: "),a("b",[t._v(t._s(t.orderInfo.basket.items.length))]),t._v(" товара на сумму "),a("b",[t._v(" "+t._s(t._f("formatNumbers")(t.orderInfo.totalPrice))+" Р ")])])])])])])])},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"breadcrumbs__item"},[a("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"dictionary__item"},[a("span",{staticClass:"dictionary__key"},[t._v(" Способ оплаты ")]),a("span",{staticClass:"dictionary__value"},[t._v(" картой при получении ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Доставка: "),a("b",[t._v("500 ₽")])])}],ue={created:function(){var t=this.$store.state.orderInfo;t&&t.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)},computed:Object(c["a"])(Object(c["a"])({},Object(i["c"])({orderInfo:"getOrderInfo",allIn:"getTotalCost"})),{},{basket:function(){var t;return(null===(t=this.orderInfo)||void 0===t?void 0:t.basket)||[]}}),filters:{formatNumbers:E}},de=ue,_e=Object(m["a"])(de,ne,le,!1,null,null,null),pe=_e.exports;r["a"].use(x["a"]);var me=[{name:"main",component:rt,path:"/"},{name:"product",component:kt,path:"/product/:id"},{name:"cart",component:At,path:"/cart"},{name:"order",component:ie,path:"/order"},{name:"noFound",component:lt,path:"*"},{name:"orderInfo",component:pe,path:"/orderinfo/:id"}],fe=new x["a"]({routes:me}),ge=a("2909"),ve=(a("99af"),{state:{categories:[{id:0,title:"Все категории"}]},getters:{getCategory:function(t){return t.categories}},actions:{loadCategory:function(t){var e=t.commit;Kt.a.get("".concat(Dt,"/api/productCategories")).then((function(t){e("setCategories",t.data.items)}))}},mutations:{setCategories:function(t,e){t.categories=[].concat(Object(ge["a"])(t.categories),Object(ge["a"])(e))}}}),Ce={state:{page:1,limitProduct:3,countProduct:0,products:null,filterPriceFrom:0,filterPriceTo:0,categoryId:0,colorId:0,productsLoading:!1,errorLoading:!1},getters:{geterrorLoading:function(t){var e=t.errorLoading;return e},getProductLoading:function(t){var e=t.productsLoading;return e},getProductList:function(t){return t.products},getNumberPage:function(t){var e=t.page;return e},getLimitProduct:function(t){var e=t.limitProduct;return e},getCountProducts:function(t){var e=t.countProduct;return e},countPage:function(t){var e=t.limitProduct,a=t.countProduct;return Math.ceil(a/e)},getPriceTo:function(t){var e=t.filterPriceTo;return e},getPriceFrom:function(t){var e=t.filterPriceFrom;return e},getCategoriesId:function(t){var e=t.filtercategoryId;return e},getColorId:function(t){var e=t.colorId;return e}},actions:{loadProducts:function(t){var e=t.state,a=t.commit;e.productsLoading=!0,e.errorLoading=!1,Kt.a.get("".concat(Dt,"/api/products"),{params:{page:e.page,limit:e.limitProduct,categoryId:e.categoryId,minPrice:e.filterPriceFrom,maxPrice:e.filterPriceTo,colorId:e.colorId}}).then((function(t){a("setProducts",t),e.productsLoading=!1})).catch((function(){e.errorLoading=!0,e.productsLoading=!1}))}},mutations:{setProducts:function(t,e){t.products=e.data.items,t.countProduct=e.data.pagination.total},backPage:function(t){t.page>1&&(t.page-=1)},nextPage:function(t){t.page<Math.ceil(t.countProduct/t.limitProduct)&&(t.page+=1)},changePage:function(t,e){t.page=e},changeMinPrice:function(t,e){t.filterPriceFrom=e},changeMaxPrice:function(t,e){t.filterPriceTo=e},changeCategories:function(t,e){t.categoryId=e},changeColorId:function(t,e){t.colorId=e}}},he=(a("d81d"),a("7db0"),a("4de4"),{state:{loadBasket:!1,errorBasket:!1,productBasket:[],userAccessKey:null,orderInfo:null},actions:{loadOrderInfo:function(t,e){var a=t.state,r=t.commit;return Kt.a.get("".concat(Dt,"/api/orders/").concat(e),{params:{userAccessKey:a.userAccessKey}}).then((function(t){r("updateOrderInfo",t.data)}))},loadCart:function(t){var e=t.state,a=t.commit;return e.loadBasket=!0,e.errorBasket=!1,Kt.a.get("".concat(Dt,"/api/baskets"),{params:{userAccessKey:e.userAccessKey}}).then((function(t){e.userAccessKey||localStorage.setItem("userAccessKey",t.data.user.accessKey),e.loadBasket=!1,a("setBasket",t.data.items),a("setUserAccessKey",t.data.user.accessKey)})).catch((function(){e.loadBasket=!1,e.errorBasket=!0}))},addProducttoServer:function(t,e){var a=t.state,r=t.commit;return Kt.a.post("".concat(Dt,"/api/baskets/products"),{productId:e.id,quantity:e.count},{params:{userAccessKey:a.userAccessKey}}).then((function(t){r("setBasket",t.data.items)}))},updateProductCart:function(t,e){var a=t.state,r=t.commit;return Kt.a.put("".concat(Dt,"/api/baskets/products"),{productId:e.id,quantity:e.count},{params:{userAccessKey:a.userAccessKey}}).then((function(){r("updateCountProduct",e)}))},deleteProductInBasket:function(t,e){var a=t.state,r=t.commit;return Kt.a.delete("".concat(Dt,"/api/baskets/products"),{params:{userAccessKey:a.userAccessKey},data:{productId:e}}).then((function(){r("deleteProductInCart",e)}))}},mutations:{updateOrderInfo:function(t,e){t.orderInfo=e},resetBasket:function(t){t.productBasket=[]},setBasket:function(t,e){t.productBasket=e.map((function(t){return Object(c["a"])({idInCart:t.id,count:t.quantity},t.product)}))},setUserAccessKey:function(t,e){t.userAccessKey=e},addProduct:function(t,e){t.productBasket.push(e[e.length-1])},updateCountProduct:function(t,e){var a=t.productBasket,r=e.id,s=e.count,o=a.find((function(t){return t.id===r}));o&&(o.count=s)},deleteProductInCart:function(t,e){t.productBasket=t.productBasket.filter((function(t){return t.id!==e}))}},getters:{getProductInCart:function(t){var e=t.productBasket;return e},getTotalCost:function(t){var e=t.productBasket;return 1===e.length?e[0].price*e[0].count:e.length?e.reduce((function(t,e){return t+e.price*e.count}),0):0},getCountProduct:function(t){var e=t.productBasket;return e.length},getLoadBasket:function(t){var e=t.loadBasket;return e},getErrorLoadBasket:function(t){var e=t.errorBasket;return e},getUserAccessKey:function(t){var e=t.userAccessKey;return e},getOrderInfo:function(t){var e=t.orderInfo;return e}}}),be={state:{productLoading:!1,errorLoadingProduct:!1,product:null},getters:{getProduct:function(t){var e=t.product;return e},getErrorLoadingProduct:function(t){var e=t.errorLoadingProduct;return e},getProductLoadingPage:function(t){var e=t.productLoading;return e}},actions:{loadProductPage:function(t,e){var a=t.state,r=t.commit;a.productLoading=!0,a.errorLoadingProduct=!1,Kt.a.get("".concat(Dt,"/api/products/").concat(e)).then((function(t){r("setProduct",t.data),a.productLoading=!1})).catch((function(){a.errorLoadingProduct=!0,a.productLoading=!1}))}},mutations:{setProduct:function(t,e){t.product=e}}};r["a"].use(i["a"]);var ke=new i["a"].Store({state:{colorList:void 0},getters:{getColorList:function(t){return t.colorList}},actions:{loadColors:function(t){var e=t.commit;Kt.a.get("".concat(Dt,"/api/colors")).then((function(t){e("setColor",t.data.items)}))}},mutations:{setColor:function(t,e){t.colorList=e}},modules:{Category:ve,Product:Ce,Cart:he,ProductPage:be}}),Pe=ke;r["a"].config.productionTip=!1,new r["a"]({router:fe,store:Pe,render:function(t){return t(O)}}).$mount("#app")},"5d22":function(t,e,a){"use strict";a("6bfa")},"6bfa":function(t,e,a){},c5fb:function(t,e,a){},d041:function(t,e,a){},e4fe:function(t,e,a){"use strict";a("d041")},f168:function(t,e,a){"use strict";a("c5fb")}});
//# sourceMappingURL=app.7c5649fb.js.map